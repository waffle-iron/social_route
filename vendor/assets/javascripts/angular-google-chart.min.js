(function(e,t,n){"use strict";n.module("googlechart",[]).value("googleChartApiConfig",{version:"1",optionalSettings:{packages:["corechart"]}}).provider("googleJsapiUrl",function(){var e="https:";var t="//www.google.com/jsapi";this.setProtocol=function(t){e=t};this.setUrl=function(e){t=e};this.$get=function(){return(e?e:"")+t}}).factory("googleChartApiPromise",["$rootScope","$q","googleChartApiConfig","googleJsapiUrl",function(r,i,s,o){var u=i.defer();var a=function(){var e={callback:function(){var e=s.optionalSettings.callback;r.$apply(function(){u.resolve()});if(n.isFunction(e)){e.call(this)}}};e=n.extend({},s.optionalSettings,e);t.google.load("visualization",s.version,e)};var f=e.getElementsByTagName("head")[0];var l=e.createElement("script");l.setAttribute("type","text/javascript");l.src=o;if(l.addEventListener){l.addEventListener("load",a,false)}else{l.onreadystatechange=function(){if(l.readyState==="loaded"||l.readyState==="complete"){l.onreadystatechange=null;a()}}}f.appendChild(l);return u.promise}]).directive("googleChart",["$timeout","$window","$rootScope","googleChartApiPromise",function(e,t,r,i){return{restrict:"A",scope:{beforeDraw:"&",chart:"=chart",onReady:"&",onSelect:"&",select:"&"},link:function(t,s,o){function a(e,r,i){var s;if(typeof t.chart.formatters[e]!=="undefined"){if(!n.equals(t.chart.formatters[e],t.oldChartFormatters[e])){t.oldChartFormatters[e]=t.chart.formatters[e];t.formatters[e]=[];if(e==="color"){for(var o=0;o<t.chart.formatters[e].length;o++){var u=new r;for(s=0;s<t.chart.formatters[e][o].formats.length;s++){var a=t.chart.formatters[e][o].formats[s];if(typeof a.fromBgColor!=="undefined"&&typeof a.toBgColor!=="undefined")u.addGradientRange(a.from,a.to,a.color,a.fromBgColor,a.toBgColor);else u.addRange(a.from,a.to,a.color,a.bgcolor)}t.formatters[e].push(u)}}else{for(s=0;s<t.chart.formatters[e].length;s++){t.formatters[e].push(new r(t.chart.formatters[e][s]))}}}for(s=0;s<t.formatters[e].length;s++){if(t.chart.formatters[e][s].columnNum<i.getNumberOfColumns())t.formatters[e][s].format(i,t.chart.formatters[e][s].columnNum)}if(e==="arrow"||e==="bar"||e==="color")t.chart.options.allowHtml=true}}function f(){if(!f.triggered&&t.chart!==undefined){f.triggered=true;e(function(){if(typeof t.chartWrapper==="undefined"){var n={chartType:t.chart.type,dataTable:t.chart.data,view:t.chart.view,options:t.chart.options,containerId:s[0]};t.chartWrapper=new google.visualization.ChartWrapper(n);google.visualization.events.addListener(t.chartWrapper,"ready",function(){t.chart.displayed=true;t.$apply(function(e){e.onReady({chartWrapper:e.chartWrapper})})});google.visualization.events.addListener(t.chartWrapper,"error",function(e){console.log("Chart not displayed due to error: "+e.message+". Full error object follows.");console.log(e)});google.visualization.events.addListener(t.chartWrapper,"select",function(){var e={selectedItems:t.chartWrapper.getChart().getSelection()};e.selectedItem=e.selectedItems[0];t.$apply(function(){if(o.select){console.log("Angular-Google-Chart: The 'select' attribute is deprecated and will be removed in a future release.  Please use 'onSelect'.");t.select(e)}else{t.onSelect(e)}})})}else{t.chartWrapper.setChartType(t.chart.type);t.chartWrapper.setDataTable(t.chart.data);t.chartWrapper.setView(t.chart.view);t.chartWrapper.setOptions(t.chart.options)}if(typeof t.formatters==="undefined")t.formatters={};if(typeof t.chart.formatters!=="undefined"){a("number",google.visualization.NumberFormat,t.chartWrapper.getDataTable());a("arrow",google.visualization.ArrowFormat,t.chartWrapper.getDataTable());a("date",google.visualization.DateFormat,t.chartWrapper.getDataTable());a("bar",google.visualization.BarFormat,t.chartWrapper.getDataTable());a("color",google.visualization.ColorFormat,t.chartWrapper.getDataTable())}var r=t.chart.customFormatters;if(typeof r!=="undefined"){for(var i in r){a(i,r[i],t.chartWrapper.getDataTable())}}e(function(){t.beforeDraw({chartWrapper:t.chartWrapper});t.chartWrapper.draw();f.triggered=false})},0,true)}else if(t.chart!==undefined){e.cancel(f.recallTimeout);f.recallTimeout=e(f,10)}}function l(){i.then(function(){f()})}t.$watch(function(){if(t.chart){return{customFormatters:t.chart.customFormatters,data:t.chart.data,formatters:t.chart.formatters,options:t.chart.options,type:t.chart.type,view:t.chart.view}}return t.chart},function(){l()},true);var u=r.$on("resizeMsg",function(){e(function(){if(t.chartWrapper){l()}})});t.$on("$destroy",function(){u()});t.oldChartFormatters={}}}}]).run(["$rootScope","$window",function(e,t){n.element(t).bind("resize",function(){e.$emit("resizeMsg")})}])})(document,window,window.angular)
